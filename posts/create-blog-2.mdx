---
title: Next.js ë¸”ë¡œê·¸ ë§Œë“¤ê¸° 2íƒ„ (í´ë” êµ¬ì¡°, í¬ìŠ¤íŒ… ê´€ë¦¬)
publishedAt: '2023-10-13'
summary: í´ë” êµ¬ì¡°ì™€ Contentlayerë¥¼ í™œìš©í•œ í¬ìŠ¤íŒ… ê´€ë¦¬
category: Dev
---

## ê°œìš”

ì•ì„  í¬ìŠ¤íŠ¸ì—ì„œëŠ” ë¸”ë¡œê·¸ë¥¼ ë§Œë“¤ ë•Œ ì±„íƒí•œ ê¸°ìˆ ê³¼ ì´ìœ ì— ëŒ€í•´ ë‹¤ë¤˜ìŠµë‹ˆë‹¤. ê·¸ ê¸€ì„ í† ëŒ€ë¡œ ê°œë°œ ê³¼ì •ì„ ê³µìœ í•©ë‹ˆë‹¤.

## í´ë” êµ¬ì¡°

íšŒì‚¬ì—ì„œ ì»´í¬ë„ŒíŠ¸ ì¬ì‚¬ìš©ê³¼ ë¶„ê¸°ì²˜ë¦¬ ê´€ë ¨í•´ì„œ ë‹¤ì–‘í•œ ì´ìŠˆë¥¼ ê²½í—˜í–ˆê¸° ë•Œë¬¸ì—, ì²˜ìŒ ì„¤ê³„ê³¼ì •ì— ì‹œê°„ì„ ë§ì´ íˆ¬ìí–ˆìŠµë‹ˆë‹¤.

### View(UI)ì™€ ë¡œì§ ë¶„ë¦¬

ì´ì œëŠ” ë„ˆë¬´ë‚˜ ìì—°ìŠ¤ëŸ½ê³  ë‹¹ì—°í•œ ìŠµê´€ì…ë‹ˆë‹¤.
**View**ì™€ **ë¡œì§**ì„ ëª…í™•í•˜ê²Œ ë¶„ë¦¬í–ˆê³ , ë¡œì§ì€ `service`í´ë” ì•ˆì—ì„œ ì „ë¶€ ì²˜ë¦¬í–ˆìŠµë‹ˆë‹¤.
ê´€ì‹¬ì‚¬ ë¶„ë¦¬ë¥¼ í†µí•´ Viewì™€ ë¡œì§ ê°ê°ì— ì§‘ì¤‘í•´ì„œ ê°œë°œí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì—, ìœ ì§€ë³´ìˆ˜ ë¹„ìš©ì„ ë‚®ì¶”ê³  ê°€ë…ì„±ê¹Œì§€ ì¡ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```tsx title="post.ts/service"
import { cache } from 'react';
import { Post, allPosts } from 'contentlayer/generated';

export const getAllPosts = cache(async () => {
  return allPosts.sort((a, b) => (a.publishedAt > b.publishedAt ? -1 : 1));
});

export async function getPostData(fileName: string) {
  const posts = await getAllPosts();
  const post = posts.find((post) => post.slug === fileName) as Post;

  if (!post) throw new Error(`${fileName}ì— í•´ë‹¹í•˜ëŠ” í¬ìŠ¤íŠ¸ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ ğŸ¥²`);

  const index = posts.indexOf(post);
  const next = index > 0 ? posts[index - 1] : null;
  const prev = index < posts.length - 1 ? posts[index + 1] : null;

  return { ...post, next, prev };
}
```

### Components ê´€ë¦¬

ì„œì¹­í•˜ë©´ì„œ ì´ë ¥ì„œ ë‚´ìš©ì€ í•˜ë“œì½”ë”©í•œ ë¸”ë¡œê·¸ê°€ ë§ì´ ë³´ì˜€ëŠ”ë°, ì €ëŠ” íš¨ìœ¨ì ì¸ ê´€ë¦¬ë¥¼ ìœ„í•´ `about` í´ë”ë‚´ì— about í˜ì´ì§€ì—ì„œë§Œ ì‚¬ìš©í•˜ëŠ” `component`ë¥¼ ë”°ë¡œ ê´€ë¦¬í–ˆìŠµë‹ˆë‹¤.
ê·¸ ì•ˆì— ì£¼ì œë³„ë¡œ(Intro, Careers..) êµ¬ë¶„í•´ ì»´í¬ë„ŒíŠ¸ë¥¼ êµ¬ì„±í–ˆê³ ,
ì´ë ¥ì„œ ê´€ë ¨ **ìƒìˆ˜ë°ì´í„°**ëŠ” `constants` í´ë”ì—ì„œ ë”°ë¡œ ê´€ë¦¬í•˜ê¸° ë•Œë¬¸ì— íš¨ìœ¨ì ì¸ ìˆ˜ì • ë° ê´€ë¦¬ê°€ ê°€ëŠ¥í•´ì¡ŒìŠµë‹ˆë‹¤.

```tsx
ğŸ“¦src
 â”£ ğŸ“‚app
 â”ƒ â”£ ğŸ“‚about
 â”ƒ â”ƒ â”£ ğŸ“‚components
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“œCareers.tsx
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“œEducation.tsx
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“œFnF.tsx
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“œIntro.tsx
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“œMeitalk.tsx
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“œOtherCareers.tsx
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“œProjects.tsx
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“œRiverBlog.tsx
 â”ƒ â”ƒ â”ƒ â”— ğŸ“œSkills.tsx
 â”ƒ â”ƒ â”— ğŸ“œpage.tsx
 // ...
  â”£ ğŸ“‚constants
 â”ƒ â”£ ğŸ“œCareersData.ts
 â”ƒ â”£ ğŸ“œEducationData.ts
 â”ƒ â”£ ğŸ“œFnF.ts
 â”ƒ â”£ ğŸ“œIntroData.tsx
 â”ƒ â”£ ğŸ“œMeitalk.ts
 â”ƒ â”£ ğŸ“œOtherCareersData.ts
 â”ƒ â”— ğŸ“œRiverBlog.ts
```

`about` í˜ì´ì§€ ì™¸ ë‚˜ë¨¸ì§€ í˜ì´ì§€ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ëŠ” srcí´ë”ì˜ `components`í´ë”ì—ì„œ ê´€ë¦¬í•˜ë©°, íŒŒì¼ëª…ì— ë§ëŠ” ëª…í™•í•œ ì—­í• ë§Œ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡ ê°œë°œí–ˆìŠµë‹ˆë‹¤.

```tsx
ğŸ“¦components
 â”£ ğŸ“‚ui
 â”ƒ â”— ğŸ“‚icons
 â”ƒ â”ƒ â”£ ğŸ“œArrowLeftIcon.tsx
 â”ƒ â”ƒ â”£ ğŸ“œArrowRightIcon.tsx
 â”ƒ â”ƒ â”£ ğŸ“œGithubFillIcon.tsx
 â”ƒ â”ƒ â”£ ğŸ“œGithubIcon.tsx
 â”ƒ â”ƒ â”£ ğŸ“œHomeFillIcon.tsx
 â”ƒ â”ƒ â”£ ğŸ“œHomeIcon.tsx
 â”ƒ â”ƒ â”£ ğŸ“œMailFillIcon.tsx
 â”ƒ â”ƒ â”£ ğŸ“œMailIcon.tsx
 â”ƒ â”ƒ â”£ ğŸ“œMeFillIcon.tsx
 â”ƒ â”ƒ â”£ ğŸ“œMeIcon.tsx
 â”ƒ â”ƒ â”£ ğŸ“œMoonIcon.tsx
 â”ƒ â”ƒ â”£ ğŸ“œPostFillIcon.tsx
 â”ƒ â”ƒ â”£ ğŸ“œPostIcon.tsx
 â”ƒ â”ƒ â”— ğŸ“œSunIcon.tsx
 â”£ ğŸ“œCarouselCard.tsx
 â”£ ğŸ“œCarouselPosts.tsx
 â”£ ğŸ“œCategories.tsx
 â”£ ğŸ“œCustomArrow.tsx
 â”£ ğŸ“œFilterablePost.tsx
 â”£ ğŸ“œFooter.tsx
 â”£ ğŸ“œGoogleAnalytics.tsx
 â”£ ğŸ“œMainAboutMe.tsx
 â”£ ğŸ“œMdx.tsx
 â”£ ğŸ“œMultiCarousel.tsx
 â”£ ğŸ“œNavbar.tsx
 â”£ ğŸ“œPostCard.tsx
 â”£ ğŸ“œPostNavigator.tsx
 â”£ ğŸ“œProvider.tsx
 â”£ ğŸ“œThemeSwitch.tsx
 â”— ğŸ“œanalytics.tsx
```

ë¸”ë¡œê·¸ì—ì„œ ë‹¤ì–‘í•œ **icon**ë“¤ì„ ì‚¬ìš©í•˜ê²Œ ë˜ëŠ”ë°, í™”ë©´ê³¼ ê¸°ëŠ¥ë§ˆë‹¤ ë¯¸ì„¸í•˜ê²Œ ë””ìì¸ì´ ë‹¤ë¥´ê³  ê¸°ëŠ¥ì´ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— `ui`í´ë”ì—ì„œ í•¨ìˆ˜ë¡œ ê´€ë¦¬í–ˆìŠµë‹ˆë‹¤.

```tsx title="GithubIcon.tsx"
import { VscGithubInverted } from 'react-icons/vsc';

export default function GithubIcon({ type }: { type?: string }) {
  return type === 'me' ? (
    <VscGithubInverted className='w-5 h-5' />
  ) : (
    <VscGithubInverted className='w-6 h-6' />
  );
}
```

## Contentlayerë¥¼ í™œìš©í•œ í¬ìŠ¤íŒ… ê´€ë¦¬

ë¡œì»¬ì˜ **mdx íŒŒì¼**ì„ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê¸° ìœ„í•´ `Contentlayer`ë¥¼ í™œìš©í–ˆìŠµë‹ˆë‹¤.<br/>
`Contentlayer`ëŠ” ë§ˆí¬ë‹¤ìš´ íŒŒì¼ì´ë‚˜ ë‹¤ë¥¸ ë°ì´í„° ì†ŒìŠ¤ì—ì„œ ì»¨í…ì¸ ë¥¼ ê°€ì ¸ì™€ `Next.js` ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì‰½ê²Œ í†µí•©í•  ìˆ˜ ìˆìœ¼ë©°,
**type-safe**í•œ JSON ë°ì´í„°ë¡œ ë³€í™˜í•´ ì£¼ê³  contentë¥¼ ê´€ë¦¬í•´ ì£¼ëŠ” SDKì…ë‹ˆë‹¤.

`contentlayer`ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ëª‡ê°€ì§€ ì„¤ì •ì´ í•„ìš”í•©ë‹ˆë‹¤.

1. **contnetlayer** ì„¤ì¹˜

```tsx
npm install next-contentlayer
```

2. **next.config.js** ìˆ˜ì •

`Next.js`ìš© contentlayer í”Œë¡œê·¸ì¸ ë“±ë¡

```tsx
const { withContentlayer } = require('next-contentlayer');
/** @type {import('next').NextConfig} */

const nextConfig = {};

module.exports = withContentlayer(nextConfig);
```

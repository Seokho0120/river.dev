---
title: File 데이터 다루기 (Bianry, Base64, Blob, ArrayBuffer)
publishedAt: '2023-07-16'
summary: Bianry, Base64, Blob, ArrayBuffer에 대한 내용을 다룹니다.
category: Dev
---

## 개요

웹 개발을 진행하다 보면 **이진 데이터**를 다뤄야하는 경우가 생깁니다. 브라우저에서는 주로 파일 생성, 업로드, 다운로드 및 이미지 처리와 관련이 있고
서버사이드인 node.js에서는 파일부터 버퍼까지 원시 데이터를 다루는 상황이 있습니다.

사실 평소 프로그래밍을 하다보면 직접 이진 데이터를 다루는 일을 별로 없습니다. 저 또한, 회사에서 비디오 업로드 기능을 개발하면서 처음 접해봤습니다.
고급 언어를 사용해 프로그래밍하기 때문에 사람이 읽을 수 잇는 자연어로 코딩해두면, 내부적으로 프로그램이 알아서 이진 데이터로 변환해 읽고 처리하기 때문입니다.

이번 포스팅에서는 업로드 기능을 구현하며 학습했던, **binary, base64, blob, arraybuffer, buffer, file 타입에 대한 개념**에 대한 내용을 다룹니다.

## Bianry

컴퓨터는 우리가 사용하는 모든 데이터를 0과 1로 저장합니다. **Bianry**는 **이진 데이터**를 의미하고, '1'과 '0'만 사용해 2개의 수를 나타내는 진법이며,
컴퓨터(프로그래밍)를 다루는데 있어 가장 근본이 되는 체계라고 볼 수 있습니다.

## Base64

컴퓨터는 모든 데이터를 이진 데이터로 저장합니다. 우리가 보는 브라우저 역시 0과 1로 이루어져있고 폴더, 파일 또한 이진 데이터입니다.

우리는 컴퓨터에 저장된 데이터를 꺼내쓰고 싶을때 **변수**를 사용합니다. 메모리에 저장된 0과 1로 이루어진 데이터를 변수에 적재해놓고,
필요하면 변수를 불러서 컴퓨터의 바이너리 데이터를 다룹니다.

그렇다면 숫자와 스트링이 아닌, 비디오 혹은 이미지와 같은 멀티미디어 파일들은 어떻게 변수에 메모리에 저장될까요? 변수에 이미지 url을 저장하는 것은 **링크**라는 징겁다리를 저장하는 것이지, 이미지 데이터 자체를 저장하는것은 아닙니다.

이떄 **Base64 개념**이 등장합니다. **Base64**는 데이터를 64진법으로 나타내는 것 입니다.<br/>
0부터 63까지 ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/ 으로 나타냅니다.
A-Z,a-z,0–9,/+ 만을 사용하기 때문에, 문자 포맷이 달라 데이터를 손상시킬 수있는 시스템 간에 안정적으로 전송 될 수 있습니다.

<p align='center'>
  <img src='/blog/img/base64-process.png' width={600} alt='base64-process' />
</p>

실제 html에 img의 src에 이미지 url이 아닌 숫자와 문자로 구성된 긴 코드가 들어간 경우를 볼 수 있는데, 이것이 **base64**입니다.
0과 1로 이루어진 데이터 자체를 base64 테그스 기반 포맷으로 변환해주기 때문에 직접 이미지 데이터를 다룰 수 있습니다.

링크 혹은 로컬에서 파일을 부르는게 아닌 base64로 변환하면 직접 소스 코드단에 데이터 자체를 저장할 수 있습니다. 변수에 문자열이나 숫자를 저장하는것과 같이,
**변수에 파일을 저장**할 수 있습니다. base64는 이미지 데이터 값을 변환하는게 아니라 출력 형식을 변환합니다. 즉, 데이터 정보는 base64 테스트 자체에 포함되어 있기 때문에,
링크 url을 통해 **서버에 요청하지 않고 직접 데이터를 사용**할 수 있습니다.

<p align='center'>
  <img src='/blog/img/base64-string.png' width={600} alt='base64-process' />
</p>

이렇게 base64로 변환하면 **직접 바이너리를 다룬다**는 특징이 있지만, 바이너리 데이터를 텍스트로 바꾸는 64진법 인코딩을 통해,
바이너리 데이터 대비 **33%의 데이터의 양이 증가**하는 단점이 있습니다. 그리고 순수 바이너리 형식으로 남아있기에 전송, 저장이 쉽습니다.(이진데이터는 손상될 확률이 높습니다.)

### 정리

> ✨ **Base64**는 데이터를 64진법 으로 나타내는 것

장점

- 서버에 이미지를 넣지 않아도 되기 때문에 간단한 구현 가능
- 브라우저 렌더링 시, 문서 로딩과 같이 로딩되기 때문에 끊기지 않고 불러옴
- 네트워크가 좋지 않아도 이미지 로딩 가능

단점

- 문자열이 매우 길기 때문에 가독성이 떨어짐
- base64 인코딩을 사용하면 원본보다 33%의 용량이 커져서, 남용할 경우 로딩속도 크게 저하

## Blob

## ArrayBuffer

---

## 참고

- [](https://creatordev.tistory.com/97)
- [](https://www.csharpstudy.com/Tip/Tip-base64.aspx)
- [](https://inpa.tistory.com/entry/JS-%F0%9F%93%9A-Base64-Blob-ArrayBuffer-File-%EB%8B%A4%EB%A3%A8%EA%B8%B0-%EC%A0%95%EB%A7%90-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0-%EC%89%BD%EA%B2%8C-%EC%84%A4%EB%AA%85)
- [](https://www.jeong-min.com/39-file-blob-url-arraybuffer/)
- [Base64 간단정리 + Base64 이미지 html,css,JS로 사용하기](https://im-designloper.tistory.com/57)
